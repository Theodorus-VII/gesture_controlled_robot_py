<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from models/urdf/my_robot.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="my_robot">
  <material name="blue">
    <color rgba="0 0 0.5 1"/>
  </material>
  <material name="grey">
    <color rgba="0.5 0.5 0.5 1"/>
  </material>
  <material name="black">
    <color rgba="0.0 0.0 0.0 1"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.5 0 1"/>
  </material>
  <material name="yellow">
    <color rgba="1.0 1.0 0 1"/>
  </material>
  <link name="base_footprint"/>
  <link name="base_link">
    <visual>
      <geometry>
        <box size="0.55 0.45 0.5"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.25"/>
      <material name="blue"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.55 0.45 0.5"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.25"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.25"/>
      <mass value="5.0"/>
      <inertia ixx="0.9208333333333334" ixy="0" ixz="0" iyy="0.8416666666666669" iyz="0" izz="0.7541666666666668"/>
    </inertial>
  </link>
  <link name="right_wheel_link">
    <visual>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <mass value="1.0"/>
      <inertia ixx="0.010833333333333335" ixy="0" ixz="0" iyy="0.010833333333333335" iyz="0" izz="0.020000000000000004"/>
    </inertial>
  </link>
  <link name="left_wheel_link">
    <visual>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <mass value="1.0"/>
      <inertia ixx="0.010833333333333335" ixy="0" ixz="0" iyy="0.010833333333333335" iyz="0" izz="0.020000000000000004"/>
    </inertial>
  </link>
  <link name="caster_wheel_link">
    <visual>
      <geometry>
        <sphere radius="0.05"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.05"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="0.0020000000000000005" ixy="0" ixz="0" iyy="0.0020000000000000005" iyz="0" izz="0.0020000000000000005"/>
    </inertial>
  </link>
  <joint name="base_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.1"/>
  </joint>
  <joint name="base_right_wheel_joint" type="continuous">
    <parent link="base_link"/>
    <child link="right_wheel_link"/>
    <origin rpy="0 0 0" xyz="-0.1375 -0.25 0"/>
    <axis xyz="0 1 0"/>
  </joint>
  <joint name="base_left_wheel_joint" type="continuous">
    <parent link="base_link"/>
    <child link="left_wheel_link"/>
    <origin rpy="0 0 0" xyz="-0.1375 0.25 0"/>
    <axis xyz="0 1 0"/>
  </joint>
  <joint name="base_caster_wheel_joint" type="fixed">
    <parent link="base_link"/>
    <child link="caster_wheel_link"/>
    <origin rpy="0 0 0" xyz="0.18333333333333335 0 -0.05"/>
  </joint>
  <gazebo reference="base_link">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="right_wheel_link">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="left_wheel_link">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="caster_wheel_link">
    <material>Gazebo/Grey</material>
    <mu1 value="0.1"/>
    <mu2 value="0.1"/>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="diff_drive_controller">
      <!-- Update rate in Hz -->
      <update_rate>50</update_rate>
      <!-- wheels -->
      <left_joint>base_left_wheel_joint</left_joint>
      <right_joint>base_right_wheel_joint</right_joint>
      <!-- kinematics -->
      <wheel_separation>0.45</wheel_separation>
      <wheel_diameter>0.2</wheel_diameter>
      <!-- output -->
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>true</publish_wheel_tf>
      <odometry_topic>odom</odometry_topic>
      <odometry_frame>odom</odometry_frame>
      <robot_base_frame>base_footprint</robot_base_frame>
    </plugin>
  </gazebo>
  <material name="LightBlue">
    <color rgba="0.589 0.793 1.0 1.0"/>
  </material>
  <link name="link_0">
    <visual>
      <geometry>
        <box size="0.25 0.3 0.02"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.01"/>
      <material name="orange"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.25 0.3 0.02"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.01"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.01"/>
      <mass value="0.5"/>
      <inertia ixx="0.010483333333333332" ixy="0" ixz="0" iyy="0.025416666666666664" iyz="0" izz="0.015066666666666666"/>
    </inertial>
  </link>
  <joint name="joint_1" type="revolute">
    <parent link="link_0"/>
    <child link="link_1"/>
    <origin rpy="0 0 0" xyz="0 0 0.02"/>
    <axis xyz="0 0 1"/>
    <limit effort="100" lower="-0.7853981633974483" upper="1.5707963267948966" velocity="1.0"/>
    <dynamics damping="0.1" friction="0.05"/>
  </joint>
  <!--=============================================================================-->
  <link name="link_1">
    <visual>
      <geometry>
        <cylinder length="0.1" radius="0.04"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.05"/>
      <material name="yellow"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.1" radius="0.04"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.05"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.05"/>
      <mass value="10"/>
      <inertia ixx="0.04933333333333334" ixy="0" ixz="0" iyy="0.04933333333333334" iyz="0" izz="0.032"/>
    </inertial>
  </link>
  <link name="link_1_endlink">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.06"/>
      <mass value="3.3333333333333335"/>
      <inertia ixx="0.0057777777777777775" ixy="0.0" ixz="0.0" iyy="0.0057777777777777775" iyz="0.0" izz="0.0035555555555555557"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.06"/>
      <geometry>
        <cylinder length="0.12" radius="0.044000000000000004"/>
      </geometry>
      <material name="LightBlue"/>
    </visual>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.06"/>
      <geometry>
        <cylinder length="0.12" radius="0.044000000000000004"/>
      </geometry>
    </collision>
  </link>
  <joint name="link_1_endjoint" type="fixed">
    <origin rpy="0.0 1.5707963267948966 0.0" xyz="-0.04 0.0 0.09000000000000001"/>
    <parent link="link_1"/>
    <child link="link_1_endlink"/>
  </joint>
  <joint name="joint_2" type="revolute">
    <parent link="link_1"/>
    <child link="link_2"/>
    <!-- <origin xyz="0 0 ${link_1_length}" rpy="0 0 0" /> -->
    <origin rpy="0.0 0.0 0.0" xyz="0.06 0.0 0.1"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="0" upper="1.5707963267948966" velocity="1.0"/>
    <dynamics damping="0.1" friction="0.05"/>
  </joint>
  <!--=============================================================================-->
  <link name="link_2">
    <visual>
      <geometry>
        <cylinder length="0.3" radius="0.02"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.15"/>
      <material name="orange"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.3" radius="0.02"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.15"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.15"/>
      <mass value="0.3"/>
      <inertia ixx="0.00912" ixy="0" ixz="0" iyy="0.00912" iyz="0" izz="0.00024"/>
    </inertial>
  </link>
  <link name="link_2_endlink">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.04"/>
      <mass value="0.09999999999999999"/>
      <inertia ixx="6.666666666666667e-05" ixy="0.0" ixz="0.0" iyy="6.666666666666667e-05" iyz="0.0" izz="2.6666666666666667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.04"/>
      <geometry>
        <cylinder length="0.08" radius="0.022000000000000002"/>
      </geometry>
      <material name="LightBlue"/>
    </visual>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.04"/>
      <geometry>
        <cylinder length="0.08" radius="0.022000000000000002"/>
      </geometry>
    </collision>
  </link>
  <joint name="link_2_endjoint" type="fixed">
    <origin rpy="0.0 1.5707963267948966 0.0" xyz="-0.02 0.0 0.29"/>
    <parent link="link_2"/>
    <child link="link_2_endlink"/>
  </joint>
  <joint name="joint_3" type="revolute">
    <parent link="link_2"/>
    <child link="link_3"/>
    <!-- <origin xyz="0 0 ${link_2_length}" rpy="0 0 0" /> -->
    <origin rpy="0.0 0.0 0.0" xyz="0.04 0.0 0.27999999999999997"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="1.0"/>
    <dynamics damping="0.15" friction="0.05"/>
  </joint>
  <!--=============================================================================-->
  <link name="link_3">
    <visual>
      <geometry>
        <cylinder length="0.15" radius="0.02"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.075"/>
      <material name="blue"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.15" radius="0.02"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.075"/>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.075"/>
      <mass value="0.3"/>
      <inertia ixx="0.0023699999999999997" ixy="0" ixz="0" iyy="0.0023699999999999997" iyz="0" izz="0.00024"/>
    </inertial>
  </link>
  <!--=============================================================================-->
  <ros2_control name="GazeboSystem" type="system">
    <hardware>
      <plugin>gazebo_ros2_control/GazeboSystem</plugin>
    </hardware>
    <joint name="joint_1">
      <command_interface name="position">
        <param name="min">0</param>
        <param name="max">0</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint_2">
      <command_interface name="position">
        <param name="min">0</param>
        <param name="max">0</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint_3">
      <command_interface name="position">
        <param name="min">0</param>
        <param name="max">0</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>
  <gazebo>
    <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">
      <robot_sim_type>gazebo_ros2_control/GazeboSystem</robot_sim_type>
      <parameters>/home/xetho/ros2_ws/install/gesture_controlled_robot_py/share/gesture_controlled_robot_py/config/arm_config.yaml</parameters>
    </plugin>
  </gazebo>
  <gazebo reference="link_0">
    <material>Gazebo/Orange</material>
  </gazebo>
  <gazebo reference="link_1">
    <material>Gazebo/Yellow</material>
  </gazebo>
  <gazebo reference="link_2">
    <material>Gazebo/Orange</material>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_joint_state_publisher.so" name="joint_state_publisher_controller">
      <!-- Update rate in Hertz -->
      <update_rate>10</update_rate>
      <!-- Name of joints in the model whose states will be published. -->
      <joint_name>joint_1</joint_name>
      <joint_name>joint_2</joint_name>
      <joint_name>joint_3</joint_name>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_joint_pose_trajectory.so" name="joint_pose_trajectory_controller">
      <!-- Update rate in Hz -->
      <update_rate>2</update_rate>
    </plugin>
  </gazebo>
  <joint name="mobile_base_arm_joint" type="fixed">
    <parent link="base_link"/>
    <child link="link_0"/>
    <origin rpy="0 0 0" xyz="0.1375 0 0.5"/>
  </joint>
  <!-- ============================================================ -->
  <!-- connecting the depth camera with its joint -->
  <!-- camera frame(ROS Body standard) -->
  <link name="camera_link">
    <visual>
      <geometry>
        <box size="0.01 0.1 0.05"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.01 0.1 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="2.166666666666667e-05" ixy="0" ixz="0" iyy="8.416666666666668e-05" iyz="0" izz="0.00010416666666666669"/>
    </inertial>
  </link>
  <!-- image frame -->
  <link name="camera_link_optical">
    </link>
  <joint name="camera_optical_joint" type="fixed">
    <!-- these values have to be these values otherwise the gazebo camera
            image won't be aligned properly with the frame it is supposedly
            originating from. This is to transform the base camera frame standard to the image frame
            standard.
             -->
    <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
    <parent link="camera_link"/>
    <child link="camera_link_optical"/>
  </joint>
  <gazebo reference="camera_link">
    <material>Gazebo/Red</material>
    <sensor name="camera_sensor" type="depth">
      <pose>0 0 0 0 0 0</pose>
      <visualize>true</visualize>
      <update_rate>10.0</update_rate>
      <camera>
        <horiontal_fov>1.089</horiontal_fov>
        <image>
          <format>B8G8R8</format>
          <width>640</width>
          <height>480</height>
        </image>
        <clip>
          <near>0.05</near>
          <far>8.0</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_camera.so" name="camera_controller">
        <frame_name>camera_link_optical</frame_name>
        <min_depth>0.1</min_depth>
        <max_depth>100</max_depth>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="base_camera_joint" type="fixed">
    <parent link="base_link"/>
    <child link="camera_link"/>
    <origin rpy="0 0 0" xyz="0.28 0 0.25"/>
  </joint>
</robot>
